# üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã - –¢—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## 1. üî¥ API –∫–ª—é—á–∏ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ

**–§–∞–π–ª:** `supabaseClient.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:** API –∫–ª—é—á–∏ Supabase –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ –∫–æ–¥–µ –∏ –≤–∏–¥–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```typescript
// –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞:
const SUPABASE_URL = import.meta.env.VITE_SUPABASE_URL || '';
const SUPABASE_ANON_KEY = import.meta.env.VITE_SUPABASE_ANON_KEY || '';
```

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–æ–∑–¥–∞—Ç—å `.env.local`:
```env
VITE_SUPABASE_URL=https://supabase.assisthelp.ru
VITE_SUPABASE_ANON_KEY=your-key-here
```

2. –î–æ–±–∞–≤–∏—Ç—å `.env.local` –≤ `.gitignore`

3. –°–æ–∑–¥–∞—Ç—å `.env.example`:
```env
VITE_SUPABASE_URL=
VITE_SUPABASE_ANON_KEY=
```

---

## 2. üî¥ –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–§–∞–π–ª:** `hooks/useAuth.ts:40`

**–ü—Ä–æ–±–ª–µ–º–∞:** `process.env.NODE_ENV` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Vite.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```typescript
// –ó–∞–º–µ–Ω–∏—Ç—å:
process.env.NODE_ENV === 'development'

// –ù–∞:
import.meta.env.MODE === 'development'
// –∏–ª–∏
import.meta.env.DEV
```

---

## 3. üî¥ –°–º–µ—à–∞–Ω–Ω—ã–π —è–∑—ã–∫ –≤ ErrorBoundary

**–§–∞–π–ª:** `components/ErrorBoundary.tsx:50`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```typescript
// –ó–∞–º–µ–Ω–∏—Ç—å:
"–°–∏—Å—Ç–µ–º–∞ —Å—Ç–æ–ª–∫–Ω—É–ª–∞—Å—å with an unexpected error."

// –ù–∞:
"–°–∏—Å—Ç–µ–º–∞ —Å—Ç–æ–ª–∫–Ω—É–ª–∞—Å—å —Å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–π –æ—à–∏–±–∫–æ–π."
```

---

## 4. üü° –ù–µ–ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è org structure

**–§–∞–π–ª:** `hooks/useOrgStructure.ts:53-72`

**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏—è `handleUpdateOrgStructure` –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î.

**–¢—Ä–µ–±—É–µ—Ç—Å—è:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü—É `org_metadata`.

---

## 5. üü° –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏

**–§–∞–π–ª:** `hooks/useAuth.ts:78-81`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–æ–º–∏—Å—ã –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –ø–æ—Å–ª–µ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `isMounted` –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è.

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

1. **–ö—Ä–∏—Ç–∏—á–Ω–æ (—Å–µ–≥–æ–¥–Ω—è):**
   - ‚úÖ API –∫–ª—é—á–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç –≤ ErrorBoundary

2. **–í–∞–∂–Ω–æ (–Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ):**
   - ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ org structure
   - ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å —É—Ç–µ—á–∫—É –ø–∞–º—è—Ç–∏

3. **–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ (–≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞):**
   - –£–ª—É—á—à–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (Web Crypto API)
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
   - –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã










