# üîí –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ HR System Pro

**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2024  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–¢–∏–ø –∞—É–¥–∏—Ç–∞:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å + –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](#1-–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
2. [üü° –í–∞–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](#2-–≤–∞–∂–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
3. [‚ö° –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](#3-—É–ª—É—á—à–µ–Ω–∏—è-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
4. [üíº HR-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è](#4-hr-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ-—É–ª—É—á—à–µ–Ω–∏—è)
5. [üé® UX/UI —É–ª—É—á—à–µ–Ω–∏—è](#5-uxui-—É–ª—É—á—à–µ–Ω–∏—è)
6. [üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è](#6-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ-—É–ª—É—á—à–µ–Ω–∏—è)
7. [üìä –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á](#7-–ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è-–∑–∞–¥–∞—á)

---

## 1. üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1.1. ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: API –∫–ª—é—á–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ  
**–§–∞–π–ª:** `supabaseClient.ts`

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ –ö–ª—é—á–∏ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `import.meta.env`
- ‚úÖ –ï—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–ª—é—á–µ–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `.env.local` –≤ `.gitignore`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Vercel (—Å–º. `VERCEL_ENV_SETUP.md`)

---

### 1.2. üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞—â–∏—Ç—ã –æ—Ç XSS –∞—Ç–∞–∫

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –í–´–°–û–ö–ê–Ø  
**–§–∞–π–ª—ã:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±–µ–∑ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏
- –î–∞–Ω–Ω—ã–µ –∏–∑ –ë–î –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π –∫–æ–¥
- –ù–µ—Ç —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è HTML –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º –∫–æ–Ω—Ç–µ–Ω—Ç–µ

**–†–∏—Å–∫–∏:**
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ JavaScript –∫–æ–¥–∞
- –ö—Ä–∞–∂–∞ —Å–µ—Å—Å–∏–π –∏ —Ç–æ–∫–µ–Ω–æ–≤
- –§–∏—à–∏–Ω–≥ –∞—Ç–∞–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å DOMPurify:**
```bash
npm install dompurify @types/dompurify
```

2. **–°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏:**
```typescript
// utils/sanitize.ts
import DOMPurify from 'dompurify';

export function sanitizeHTML(dirty: string): string {
  return DOMPurify.sanitize(dirty, {
    ALLOWED_TAGS: [], // –ó–∞–ø—Ä–µ—â–∞–µ–º –≤—Å–µ HTML —Ç–µ–≥–∏
    ALLOWED_ATTR: [],
  });
}

export function sanitizeText(text: string): string {
  // –î–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ - –ø—Ä–æ—Å—Ç–æ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ–º
  return text
    .replace(/&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;')
    .replace(/'/g, '&#x27;');
}
```

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:**
```typescript
// ‚ùå –ü–õ–û–•–û
<div>{userContent}</div>

// ‚úÖ –•–û–†–û–®–û
<div>{sanitizeText(userContent)}</div>

// –ï—Å–ª–∏ –Ω—É–∂–µ–Ω HTML (—Ä–µ–¥–∫–æ):
<div dangerouslySetInnerHTML={{ __html: sanitizeHTML(userContent) }} />
```

**–§–∞–π–ª—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
- `components/EmployeeModal.tsx` - –ø–æ–ª—è –æ–ø–∏—Å–∞–Ω–∏–π, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `components/EmployeeList.tsx` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- `components/OrgChart.tsx` - –æ–ø–∏—Å–∞–Ω–∏—è –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤
- `components/StatisticsTab.tsx` - –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ

---

### 1.3. üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ rate limiting –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –í–´–°–û–ö–ê–Ø  
**–§–∞–π–ª:** `components/Auth.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
- –í–æ–∑–º–æ–∂–µ–Ω –±—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫
- –ù–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∏ –ø–æ—Å–ª–µ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫

**–†–∏—Å–∫–∏:**
- –ü–æ–¥–±–æ—Ä –ø–∞—Ä–æ–ª–µ–π
- DDoS –∞—Ç–∞–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ª–µ–≥–∏—Ç–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:**

1. **–î–æ–±–∞–≤–∏—Ç—å rate limiting –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ:**
```typescript
// hooks/useRateLimit.ts
import { useState, useCallback } from 'react';

interface RateLimitState {
  attempts: number;
  lastAttempt: number;
  locked: boolean;
}

const MAX_ATTEMPTS = 5;
const LOCKOUT_DURATION = 15 * 60 * 1000; // 15 –º–∏–Ω—É—Ç
const DELAY_BASE = 1000; // 1 —Å–µ–∫—É–Ω–¥–∞

export function useRateLimit() {
  const [state, setState] = useState<RateLimitState>({
    attempts: 0,
    lastAttempt: 0,
    locked: false,
  });

  const checkRateLimit = useCallback((): boolean => {
    const now = Date.now();
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∏—Å—Ç–µ–∫–ª–∞ –ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
    if (state.locked) {
      const timeSinceLock = now - state.lastAttempt;
      if (timeSinceLock < LOCKOUT_DURATION) {
        const remainingMinutes = Math.ceil((LOCKOUT_DURATION - timeSinceLock) / 60000);
        throw new Error(`–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–æ–ø—ã—Ç–æ–∫. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —á–µ—Ä–µ–∑ ${remainingMinutes} –º–∏–Ω—É—Ç.`);
      }
      // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º
      setState({ attempts: 0, lastAttempt: 0, locked: false });
      return true;
    }

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫
    if (state.attempts >= MAX_ATTEMPTS) {
      setState(prev => ({ ...prev, locked: true, lastAttempt: now }));
      throw new Error('–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫. –ê–∫–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –Ω–∞ 15 –º–∏–Ω—É—Ç.');
    }

    return true;
  }, [state]);

  const recordAttempt = useCallback((success: boolean) => {
    if (success) {
      setState({ attempts: 0, lastAttempt: 0, locked: false });
    } else {
      setState(prev => ({
        attempts: prev.attempts + 1,
        lastAttempt: Date.now(),
        locked: prev.attempts + 1 >= MAX_ATTEMPTS,
      }));
    }
  }, []);

  const getDelay = useCallback((): number => {
    return Math.min(DELAY_BASE * Math.pow(2, state.attempts), 10000);
  }, [state.attempts]);

  return { checkRateLimit, recordAttempt, getDelay, state };
}
```

2. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Auth.tsx:**
```typescript
import { useRateLimit } from '../hooks/useRateLimit';

// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ Auth:
const { checkRateLimit, recordAttempt, getDelay } = useRateLimit();

const handleAuth = async (e: React.FormEvent) => {
  e.preventDefault();
  
  try {
    checkRateLimit(); // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç –ø–µ—Ä–µ–¥ –ø–æ–ø—ã—Ç–∫–æ–π
  } catch (error) {
    setMessage({ type: 'error', text: error.message });
    return;
  }

  setLoading(true);
  setMessage(null);

  // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º
  await new Promise(resolve => setTimeout(resolve, getDelay()));

  try {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ ...
    recordAttempt(true); // –£—Å–ø–µ—à–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞
  } catch (error) {
    recordAttempt(false); // –ù–µ—É–¥–∞—á–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞
    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ ...
  }
};
```

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å rate limiting –≤ Supabase:**
- –í Supabase Dashboard ‚Üí Authentication ‚Üí Settings
- –í–∫–ª—é—á–∏—Ç—å "Enable email rate limiting"
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–∏–º–∏—Ç—ã –¥–ª—è email –∏ SMS

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏

---

### 1.4. üî¥ –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –≤ localStorage

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –í–´–°–û–ö–ê–Ø  
**–§–∞–π–ª—ã:** `utils/secureStorage.ts`, `components/IntegrationsPanel.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Base64 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ –ù–ï —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
- –¢–æ–∫–µ–Ω—ã Telegram/Slack —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ localStorage
- –£—è–∑–≤–∏–º–æ—Å—Ç—å –∫ XSS –∞—Ç–∞–∫–∞–º (–µ—Å–ª–∏ XSS –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, —Ç–æ–∫–µ–Ω—ã –±—É–¥—É—Ç —É–∫—Ä–∞–¥–µ–Ω—ã)

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```typescript
// utils/secureStorage.ts
function encode(value: string): string {
  return btoa(encodeURIComponent(value)); // Base64 - –ù–ï —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ!
}
```

**–†–∏—Å–∫–∏:**
- –ü—Ä–∏ XSS –∞—Ç–∞–∫–µ —Ç–æ–∫–µ–Ω—ã –º–æ–≥—É—Ç –±—ã—Ç—å —É–∫—Ä–∞–¥–µ–Ω—ã
- localStorage –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –ª—é–±–æ–≥–æ JavaScript –∫–æ–¥–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç –∏–Ω—Å–ø–µ–∫—Ü–∏–∏ –≤ DevTools

**–†–µ—à–µ–Ω–∏–µ:**

**–í–∞—Ä–∏–∞–Ω—Ç 1: –•—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)**

1. **–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ –≤ Supabase:**
```sql
CREATE TABLE IF NOT EXISTS public.integration_tokens (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  integration_type TEXT NOT NULL, -- 'telegram', 'slack', etc.
  token_encrypted TEXT NOT NULL, -- –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  UNIQUE(user_id, integration_type)
);

ALTER TABLE public.integration_tokens ENABLE ROW LEVEL SECURITY;

CREATE POLICY "users_own_tokens"
ON public.integration_tokens
FOR ALL
TO authenticated
USING (auth.uid() = user_id)
WITH CHECK (auth.uid() = user_id);
```

2. **–•—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω—ã —á–µ—Ä–µ–∑ Supabase:**
```typescript
// utils/integrations.ts
export async function saveIntegrationToken(
  type: 'telegram' | 'slack',
  token: string
): Promise<void> {
  if (!supabase) throw new Error('Supabase not configured');
  
  const { error } = await supabase
    .from('integration_tokens')
    .upsert({
      user_id: (await supabase.auth.getUser()).data.user?.id,
      integration_type: type,
      token_encrypted: token, // –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
    });
  
  if (error) throw error;
}
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Web Crypto API (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ)**

```typescript
// utils/secureStorage.ts
let encryptionKey: CryptoKey | null = null;

async function getEncryptionKey(): Promise<CryptoKey> {
  if (encryptionKey) return encryptionKey;
  
  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–ª—é—á –∏–∑ –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö–µ—à –ø–∞—Ä–æ–ª—è)
  const password = await prompt('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤:');
  const encoder = new TextEncoder();
  const data = encoder.encode(password);
  const hash = await crypto.subtle.digest('SHA-256', data);
  
  encryptionKey = await crypto.subtle.importKey(
    'raw',
    hash,
    { name: 'AES-GCM' },
    false,
    ['encrypt', 'decrypt']
  );
  
  return encryptionKey;
}

export async function encryptToken(value: string): Promise<string> {
  const key = await getEncryptionKey();
  const encoder = new TextEncoder();
  const iv = crypto.getRandomValues(new Uint8Array(12));
  
  const encrypted = await crypto.subtle.encrypt(
    { name: 'AES-GCM', iv },
    key,
    encoder.encode(value)
  );
  
  return JSON.stringify({
    iv: Array.from(iv),
    data: Array.from(new Uint8Array(encrypted))
  });
}
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 1 (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏

---

### 1.5. üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ RLS –ø–æ–ª–∏—Ç–∏–∫ –≤ Supabase

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –í–´–°–û–ö–ê–Ø  
**–§–∞–π–ª:** `supabase_schema_complete.sql`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ —Å—Ö–µ–º–µ, –Ω–æ –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –í–æ–∑–º–æ–∂–µ–Ω –¥–æ—Å—Ç—É–ø –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ –¥–∞–Ω–Ω—ã–º

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ RLS –≤–∫–ª—é—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –≤ —Å—Ö–µ–º–µ
- ‚úÖ –ü–æ–ª–∏—Ç–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –¥–ª—è —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –≤ –≤–∞—à–µ–π –ë–î

**–†–µ—à–µ–Ω–∏–µ:**

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫:**
```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ RLS –≤–∫–ª—é—á–µ–Ω
SELECT tablename, rowsecurity 
FROM pg_tables 
WHERE schemaname = 'public' 
AND tablename IN ('employees', 'org_metadata', 'statistics_definitions');

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏
SELECT schemaname, tablename, policyname, permissive, roles, cmd, qual
FROM pg_policies
WHERE schemaname = 'public';
```

2. **–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
```sql
-- security_check.sql
DO $$
DECLARE
  rls_enabled BOOLEAN;
  policy_count INTEGER;
BEGIN
  -- –ü—Ä–æ–≤–µ—Ä–∫–∞ RLS –¥–ª—è employees
  SELECT rowsecurity INTO rls_enabled
  FROM pg_tables
  WHERE schemaname = 'public' AND tablename = 'employees';
  
  IF NOT rls_enabled THEN
    RAISE EXCEPTION 'RLS –Ω–µ –≤–∫–ª—é—á–µ–Ω –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã employees!';
  END IF;
  
  -- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø–æ–ª–∏—Ç–∏–∫
  SELECT COUNT(*) INTO policy_count
  FROM pg_policies
  WHERE schemaname = 'public' AND tablename = 'employees';
  
  IF policy_count = 0 THEN
    RAISE EXCEPTION '–ù–µ—Ç –ø–æ–ª–∏—Ç–∏–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã employees!';
  END IF;
  
  RAISE NOTICE '–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ';
END $$;
```

3. **–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
```typescript
// tests/security.test.ts
describe('Security Tests', () => {
  it('should not allow unauthenticated access', async () => {
    const { data, error } = await supabase
      .from('employees')
      .select('*');
    
    expect(error).toBeTruthy();
    expect(error?.message).toContain('row-level security');
  });
  
  it('should not allow non-admin to modify data', async () => {
    // –í–æ–π—Ç–∏ –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    await supabase.auth.signInWithPassword({
      email: 'user@example.com',
      password: 'password'
    });
    
    const { error } = await supabase
      .from('employees')
      .insert({ full_name: 'Test', position: 'Test' });
    
    expect(error).toBeTruthy();
  });
});
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ

---

### 1.6. üü° –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –°–†–ï–î–ù–Ø–Ø  
**–§–∞–π–ª:** `hooks/useAuth.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `isAdmin` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- –ú–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –≤ DevTools
- Fallback –Ω–∞ `ADMIN_EMAILS` –≤ development —Ä–µ–∂–∏–º–µ

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```typescript
const isAdmin =
  isOffline ||
  isAdminFromMetadata ||
  (import.meta.env.MODE === 'development' && session?.user?.email && ADMIN_EMAILS.includes(session.user.email));
```

**–†–∏—Å–∫–∏:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å `isAdmin` –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- UI –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –ù–û: RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—Å–µ —Ä–∞–≤–Ω–æ –∑–∞—â–∏—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ

**–†–µ—à–µ–Ω–∏–µ:**

1. **–£–¥–∞–ª–∏—Ç—å fallback –Ω–∞ ADMIN_EMAILS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:**
```typescript
// hooks/useAuth.ts
const isAdmin =
  isOffline ||
  isAdminFromMetadata;
  // –£–¥–∞–ª–∏—Ç—å: (import.meta.env.MODE === 'development' && ...)
```

2. **–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —á–µ—Ä–µ–∑ RLS:**
```sql
-- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è is_admin() –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø–æ–ª–∏—Ç–∏–∫–∞—Ö
-- –≠—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ –≤ supabase_schema_complete.sql
```

3. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ:**
```typescript
// utils/adminCheck.ts
export async function verifyAdminAccess(): Promise<boolean> {
  if (!supabase) return false;
  
  const { data, error } = await supabase
    .rpc('is_admin');
  
  if (error) {
    console.error('Error checking admin status:', error);
    return false;
  }
  
  return data === true;
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞

---

## 2. üü° –í–∞–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 2.1. üü° –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ CSRF –∑–∞—â–∏—Ç—ã

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –°–†–ï–î–ù–Ø–Ø  
**–§–∞–π–ª—ã:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å —Ñ–æ—Ä–º–∞–º–∏

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç CSRF –∞—Ç–∞–∫
- Supabase –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–∏—á–Ω–æ –∑–∞—â–∏—â–∞—é—Ç –æ—Ç CSRF
- –ù–æ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å CSRF —Ç–æ–∫–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
- Supabase —É–∂–µ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç CSRF —á–µ—Ä–µ–∑ SameSite cookies
- –î–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å CSRF —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

---

### 2.2. üü° –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –°–†–ï–î–ù–Ø–Ø  
**–§–∞–π–ª—ã:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ù–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
- –ù–µ—Ç –∞–ª–µ—Ä—Ç–æ–≤ –ø—Ä–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–º –ø–æ–≤–µ–¥–µ–Ω–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**

1. **–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
```typescript
// utils/securityLogger.ts
interface SecurityEvent {
  type: 'login_failed' | 'unauthorized_access' | 'rate_limit_exceeded' | 'suspicious_activity';
  userId?: string;
  details: Record<string, unknown>;
  timestamp: string;
}

export async function logSecurityEvent(event: SecurityEvent): Promise<void> {
  if (!supabase) return;
  
  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Supabase –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
  await supabase.from('security_logs').insert({
    event_type: event.type,
    user_id: event.userId,
    details: event.details,
    timestamp: event.timestamp,
    ip_address: await getClientIP(), // –ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ
  });
  
  // –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
  if (import.meta.env.PROD) {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Sentry, LogRocket –∏ —Ç.–¥.
  }
}
```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö:**
```typescript
// components/Auth.tsx
try {
  // ... –ø–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞ ...
} catch (error) {
  await logSecurityEvent({
    type: 'login_failed',
    userId: email,
    details: { error: error.message },
    timestamp: new Date().toISOString(),
  });
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞

---

### 2.3. üü° –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –°–†–ï–î–ù–Ø–Ø  
**–§–∞–π–ª—ã:** –í—Å–µ —Ö—É–∫–∏ —Å Supabase –∑–∞–ø—Ä–æ—Å–∞–º–∏

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- –ú–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é —á–µ—Ä–µ–∑ –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–†–µ—à–µ–Ω–∏–µ:**

1. **–°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ Supabase:**
```sql
-- –§—É–Ω–∫—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ email
CREATE OR REPLACE FUNCTION public.validate_email(email TEXT)
RETURNS BOOLEAN AS $$
BEGIN
  RETURN email ~* '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$';
END;
$$ LANGUAGE plpgsql IMMUTABLE;

-- –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π
CREATE OR REPLACE FUNCTION public.validate_employee_data()
RETURNS TRIGGER AS $$
BEGIN
  IF NEW.email IS NOT NULL AND NOT public.validate_email(NEW.email) THEN
    RAISE EXCEPTION 'Invalid email format: %', NEW.email;
  END IF;
  
  IF NEW.phone IS NOT NULL AND LENGTH(REGEXP_REPLACE(NEW.phone, '[^0-9]', '', 'g')) < 7 THEN
    RAISE EXCEPTION 'Invalid phone number: %', NEW.phone;
  END IF;
  
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER validate_employee_before_insert
BEFORE INSERT OR UPDATE ON public.employees
FOR EACH ROW
EXECUTE FUNCTION public.validate_employee_data();
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞

---

## 3. ‚ö° –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 3.1. üü° –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (>100) –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞–¥–∞–µ—Ç
- –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ú–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å react-window:**
```bash
npm install react-window @types/react-window
```

2. **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å EmployeeList:**
```typescript
// components/EmployeeList.tsx
import { FixedSizeList } from 'react-window';

const EmployeeList: React.FC<EmployeeListProps> = ({ employees, onEdit, onDelete }) => {
  const Row = ({ index, style }: { index: number; style: React.CSSProperties }) => {
    const emp = employees[index];
    return (
      <div style={style}>
        {/* –†–µ–Ω–¥–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ */}
      </div>
    );
  };

  return (
    <FixedSizeList
      height={600}
      itemCount={employees.length}
      itemSize={120}
      width="100%"
    >
      {Row}
    </FixedSizeList>
  );
};
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∏ >50 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

---

### 3.2. üü° –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ debounce –¥–ª—è –ø–æ–∏—Å–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü–æ–∏—Å–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–∏–º–≤–æ–ª–∞
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
- –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

**–†–µ—à–µ–Ω–∏–µ:**

```typescript
// hooks/useDebounce.ts
import { useState, useEffect } from 'react';

export function useDebounce<T>(value: T, delay: number): T {
  const [debouncedValue, setDebouncedValue] = useState<T>(value);

  useEffect(() => {
    const handler = setTimeout(() => {
      setDebouncedValue(value);
    }, delay);

    return () => {
      clearTimeout(handler);
    };
  }, [value, delay]);

  return debouncedValue;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const [searchTerm, setSearchTerm] = useState('');
const debouncedSearchTerm = useDebounce(searchTerm, 300);

useEffect(() => {
  // –í—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–¥–µ—Ä–∂–∫–∏
  performSearch(debouncedSearchTerm);
}, [debouncedSearchTerm]);
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞

---

### 3.3. üü° –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
- –ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î

**–†–µ—à–µ–Ω–∏–µ:**

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React Query –∏–ª–∏ SWR:**
```bash
npm install @tanstack/react-query
```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```typescript
// hooks/useEmployees.ts
import { useQuery } from '@tanstack/react-query';

export function useEmployees() {
  const { data: employees, isLoading, error } = useQuery({
    queryKey: ['employees'],
    queryFn: async () => {
      const { data } = await supabase.from('employees').select('*');
      return data;
    },
    staleTime: 5 * 60 * 1000, // 5 –º–∏–Ω—É—Ç
    cacheTime: 10 * 60 * 1000, // 10 –º–∏–Ω—É—Ç
  });

  return { employees: employees || [], isLoading, error };
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞

---

### 3.4. üü° –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É
- –ë–æ–ª—å—à–æ–π initial bundle size
- –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**

```typescript
// App.tsx
import { lazy, Suspense } from 'react';

const EmployeeModal = lazy(() => import('./components/EmployeeModal'));
const StatisticsTab = lazy(() => import('./components/StatisticsTab'));
const OrgChart = lazy(() => import('./components/OrgChart'));

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
<Suspense fallback={<div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>}>
  <EmployeeModal />
</Suspense>
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞

---

## 4. üíº HR-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 4.1. üü¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–ø—É—Å–∫–∞–º–∏

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–ø—É—Å–∫–∞–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

**–§—É–Ω–∫—Ü–∏–∏:**
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –æ—Ç–ø—É—Å–∫–æ–≤
- –ó–∞—è–≤–∫–∏ –Ω–∞ –æ—Ç–ø—É—Å–∫
- –ë–∞–ª–∞–Ω—Å –æ—Ç–ø—É—Å–∫–æ–≤
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –æ—Ç–ø—É—Å–∫–∞—Ö

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–ò–ó–ö–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ –∑–∞–ø—Ä–æ—Å—É

---

### 4.2. üü¢ –û–Ω–±–æ—Ä–¥–∏–Ω–≥ –Ω–æ–≤—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ß–µ–∫–ª–∏—Å—Ç –∑–∞–¥–∞—á –¥–ª—è –Ω–æ–≤—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

**–§—É–Ω–∫—Ü–∏–∏:**
- –®–∞–±–ª–æ–Ω—ã –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –ø–æ –¥–æ–ª–∂–Ω–æ—Å—Ç—è–º
- –ß–µ–∫–ª–∏—Å—Ç—ã –∑–∞–¥–∞—á
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–ò–ó–ö–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ –∑–∞–ø—Ä–æ—Å—É

---

### 4.3. üü¢ Performance Reviews

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –æ—Ü–µ–Ω–∫–∏ (–∫–≤–∞—Ä—Ç–∞–ª, –≥–æ–¥)
- 360-–≥—Ä–∞–¥—É—Å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- –¶–µ–ª–∏ –∏ KPI
- –ò—Å—Ç–æ—Ä–∏—è –æ—Ü–µ–Ω–æ–∫

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–ò–ó–ö–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ –∑–∞–ø—Ä–æ—Å—É

---

### 4.4. üü° –£–ª—É—á—à–µ–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ –ï—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –≤ PDF, CSV, Excel
- ‚ö†Ô∏è –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –≤ –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã

**–£–ª—É—á—à–µ–Ω–∏—è:**
- –≠–∫—Å–ø–æ—Ä—Ç –≤ Word
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã —ç–∫—Å–ø–æ—Ä—Ç–∞
- –ú–∞—Å—Å–æ–≤—ã–π —ç–∫—Å–ø–æ—Ä—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞

---

## 5. üé® UX/UI —É–ª—É—á—à–µ–Ω–∏—è

### 5.1. üü° –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—à–∏–±–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- –ù–µ—Ç –ø–æ–Ω—è—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Ä–µ—à–µ–Ω–∏–π

**–£–ª—É—á—à–µ–Ω–∏—è:**
- –ë–æ–ª–µ–µ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–µ—à–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º
- –ö–Ω–æ–ø–∫–∏ "–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞"
- –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞

---

### 5.2. üü° –£–ª—É—á—à–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (a11y)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç ARIA –∞—Ç—Ä–∏–±—É—Ç–æ–≤
- –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ screen readers

**–£–ª—É—á—à–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å ARIA labels
- –£–ª—É—á—à–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- –î–æ–±–∞–≤–∏—Ç—å focus indicators
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å screen readers

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞

---

### 5.3. üü¢ –¢–µ–º–Ω–∞—è —Ç–µ–º–∞

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–ò–ó–ö–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ –∑–∞–ø—Ä–æ—Å—É

---

## 6. üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 6.1. üü° –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ (>500 —Å—Ç—Ä–æ–∫)
- –°–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
- `EmployeeModal.tsx` - 1086 —Å—Ç—Ä–æ–∫
- `StatisticsTab.tsx` - 945 —Å—Ç—Ä–æ–∫

**–†–µ—à–µ–Ω–∏–µ:**
- –†–∞–∑–±–∏—Ç—å –Ω–∞ –º–µ–Ω—å—à–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –≤ —Ö—É–∫–∏
- –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ

---

### 6.2. üü° –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç unit —Ç–µ—Å—Ç–æ–≤
- –ù–µ—Ç integration —Ç–µ—Å—Ç–æ–≤
- –ù–µ—Ç E2E —Ç–µ—Å—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Vitest –¥–ª—è unit —Ç–µ—Å—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Playwright –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô - –ù–∞—á–∞—Ç—å —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

---

### 6.3. üü° –£–ª—É—á—à–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `any` –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö
- –ù–µ–ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ strict mode

**–†–µ—à–µ–Ω–∏–µ:**
- –í–∫–ª—é—á–∏—Ç—å strict mode –≤ tsconfig.json
- –£–±—Ä–∞—Ç—å –≤—Å–µ `any`
- –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ

---

## 7. üìä –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ (–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ)

1. ‚úÖ **API –∫–ª—é—á–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è** - –ò–°–ü–†–ê–í–õ–ï–ù–û
2. üî¥ **–ó–∞—â–∏—Ç–∞ –æ—Ç XSS** - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å DOMPurify –∏ —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
3. üî¥ **Rate limiting –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** - –ó–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
4. üî¥ **–ü—Ä–æ–≤–µ—Ä–∫–∞ RLS –ø–æ–ª–∏—Ç–∏–∫** - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
5. üî¥ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤** - –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### üü° –í–∞–∂–Ω–æ (–í —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞)

1. üü° **–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ** - –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
2. üü° **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
3. üü° **Debounce –¥–ª—è –ø–æ–∏—Å–∫–∞** - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
4. üü° **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - React Query –∏–ª–∏ SWR
5. üü° **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤** - –î–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

### üü¢ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ (–ü–æ –∑–∞–ø—Ä–æ—Å—É)

1. üü¢ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–ø—É—Å–∫–∞–º–∏** - –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∏ –∑–∞—è–≤–∫–∏
2. üü¢ **–û–Ω–±–æ—Ä–¥–∏–Ω–≥** - –ß–µ–∫–ª–∏—Å—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
3. üü¢ **Performance Reviews** - –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–æ–∫
4. üü¢ **–¢–µ–º–Ω–∞—è —Ç–µ–º–∞** - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ dark mode
5. üü¢ **–¢–µ—Å—Ç—ã** - Unit –∏ E2E —Ç–µ—Å—Ç—ã

---

## üìù –†–µ–∑—é–º–µ

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: üü° –°–†–ï–î–ù–ï–ï

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ API –∫–ª—é—á–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ —Å—Ö–µ–º–µ
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞—â–∏—Ç—ã –æ—Ç XSS
- üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ rate limiting
- üî¥ –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- üü° –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º:

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:** –ó–∞—â–∏—Ç–∞ –æ—Ç XSS, Rate limiting, –ü—Ä–æ–≤–µ—Ä–∫–∞ RLS
2. **–í —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
3. **–í —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞:** –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [Supabase Security Best Practices](https://supabase.com/docs/guides/auth/security)
- [React Security](https://reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml)
- [DOMPurify Documentation](https://github.com/cure53/DOMPurify)

